<div class="container mt-5">
    <h2>Carrito de Compras</h2>
    <div *ngIf="cart.length === 0" class="alert alert-warning bg-white text-black border-error" role="alert">
        <span>Tu carrito está vacío.</span>
    </div>
    <br>
    <br>
    <div *ngIf="cart.length > 0">
      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Producto</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Precio</th>
            <th scope="col">Subtotal</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cart">
            <td class="align-middle">
              <div class="d-flex align-items-center">
                <img [src]="item.product.thumbnailUrl" class="img-thumbnail" style="width: 50px; height: auto;" alt="{{ item.product.title }}">
                <div class="ms-3">
                  <h6 class="mb-0">{{ item.product.title }}</h6>
                  <small class="text-muted">{{ item.product.descripcion | slice:0:50 }}...</small>
                </div>
              </div>
            </td>
            <td class="align-middle">
              <div class="d-flex align-items-center">
                <button class="btn btn-outline-secondary btn-sm" (click)="decrementQuantity(item.product.id)">-</button>
                <span class="mx-2">{{ item.quantity }}</span>
                <button class="btn btn-outline-secondary btn-sm" (click)="incrementQuantity(item.product.id)">+</button>
              </div>
            </td>
            <td class="align-middle">{{ item.product.precio | currency:'':'symbol':'1.0-0' }}</td>
            <td class="align-middle">{{ (item.product.precio * item.quantity) | currency:'':'symbol':'1.0-0' }}</td>
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-end">
        <h4>Total: <span class="text-black">{{ total | currency:'':'symbol':'1.0-0' }}</span></h4>
      </div>
      <div class="d-flex justify-content-end mt-3">
        <a routerLink="/checkout" class="btn btn-warning text-white">Proceder al Pago</a>
      </div>
      <br>
      <br>
    </div>
</div>